<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation startLine="212" startChar="59" endLine="212" endChar="67" message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="212" startChar="59" endLine="212" endChar="67" message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="219" startChar="57" endLine="219" endChar="65" message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="219" startChar="57" endLine="219" endChar="65" message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="263" startChar="3" endLine="263" endChar="80" message="Could not resolve code path medicationCodeableConcept for the type of the retrieve FHIR.MedicationDispense." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="263" startChar="3" endLine="263" endChar="80" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="296" startChar="59" endLine="296" endChar="67" message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="296" startChar="59" endLine="296" endChar="67" message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="369" startChar="50" endLine="369" endChar="58" message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="428" startChar="3" endLine="428" endChar="33" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="List-valued expression was demoted to a singleton." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <identifier id="CBP" version="2"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="3.0.0"/>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:54" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="3.0.0"/>
   </includes>
   <parameters>
      <def localId="29" locator="53:1-53:73" name="Measurement Period" accessLevel="Public">
         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
            <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <default localId="28" locator="53:40-53:73" lowClosed="true" highClosed="false" xsi:type="Interval">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <low localId="26" locator="53:49-53:59" resultTypeName="t:Date" xsi:type="Date">
               <year valueType="t:Integer" value="2018" xsi:type="Literal"/>
               <month valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day valueType="t:Integer" value="1" xsi:type="Literal"/>
            </low>
            <high localId="27" locator="53:62-53:72" resultTypeName="t:Date" xsi:type="Date">
               <year valueType="t:Integer" value="2019" xsi:type="Literal"/>
               <month valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day valueType="t:Integer" value="1" xsi:type="Literal"/>
            </high>
         </default>
      </def>
   </parameters>
   <codeSystems>
      <def localId="3" locator="29:1-29:38" name="LOINC" id="http://loinc.org" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="4" locator="31:1-31:63" name="Acute Inpatient" id="2.16.840.1.113883.3.464.1004.1017" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="5" locator="32:1-32:56" name="Diabetes" id="2.16.840.1.113883.3.464.1004.1077" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="6" locator="33:1-33:67" name="Diabetes Exclusions" id="2.16.840.1.113883.3.464.1004.1105" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="7" locator="34:1-34:50" name="ED" id="2.16.840.1.113883.3.464.1004.1086" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="8" locator="35:1-35:52" name="ESRD" id="2.16.840.1.113883.3.464.1004.1089" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="9" locator="36:1-36:61" name="ESRD Obsolete" id="2.16.840.1.113883.3.464.1004.1090" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="10" locator="37:1-37:70" name="Essential Hypertension" id="2.16.840.1.113883.3.464.1004.1122" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="11" locator="38:1-38:62" name="Inpatient Stay" id="2.16.840.1.113883.3.464.1004.1395" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="12" locator="39:1-39:65" name="Kidney Transplant" id="2.16.840.1.113883.3.464.1004.1141" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="13" locator="40:1-40:66" name="Nonacute Inpatient" id="2.16.840.1.113883.3.464.1004.1189" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="14" locator="41:1-41:71" name="Nonacute Inpatient Stay" id="2.16.840.1.113883.3.464.1004.1398" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="15" locator="42:1-42:59" name="Observation" id="2.16.840.1.113883.3.464.1004.1191" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="16" locator="43:1-43:58" name="Outpatient" id="2.16.840.1.113883.3.464.1004.1202" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="17" locator="44:1-44:72" name="Outpatient Without UBREV" id="2.16.840.1.113883.3.464.1004.1203" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="18" locator="45:1-45:57" name="Pregnancy" id="2.16.840.1.113883.3.464.1004.1219" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="19" locator="47:1-47:63" name="Diabetes Medications List" id="DiabetesMedicationsList" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
   </valueSets>
   <codes>
      <def localId="21" locator="49:1-49:70" resultTypeName="t:Code" name="Blood Pressure" id="55284-4" display="Blood pressure" accessLevel="Public">
         <codeSystem localId="20" locator="49:39-49:45" name="LOINC">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </codeSystem>
      </def>
      <def localId="23" locator="50:1-50:87" resultTypeName="t:Code" name="Systolic Blood Pressure" id="8480-6" display="Systolic blood pressure" accessLevel="Public">
         <codeSystem localId="22" locator="50:47-50:53" name="LOINC">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </codeSystem>
      </def>
      <def localId="25" locator="51:1-51:89" resultTypeName="t:Code" name="Diastolic Blood Pressure" id="8462-4" display="Diastolic blood pressure" accessLevel="Public">
         <codeSystem localId="24" locator="51:48-51:54" name="LOINC">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </codeSystem>
      </def>
   </codes>
   <statements>
      <def locator="55:1-55:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="55:1-55:15" dataType="fhir:Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="39" locator="57:1-58:99" name="First 6 Months of Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="39">
               <a:s>define &quot;First 6 Months of Measurement Period&quot;:&#xd;
  </a:s>
               <a:s r="38">
                  <a:s>Interval[</a:s>
                  <a:s r="31">
                     <a:s>start of </a:s>
                     <a:s r="30">
                        <a:s>&quot;Measurement Period&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="37">
                     <a:s>DateTime(</a:s>
                     <a:s r="34">
                        <a:s>year from </a:s>
                        <a:s r="33">
                           <a:s>start of </a:s>
                           <a:s r="32">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s r="35">, 6, 30)</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="38" locator="58:3-58:99" lowClosed="true" highClosed="true" xsi:type="Interval">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <low xsi:type="ToDateTime">
               <operand localId="31" locator="58:12-58:40" resultTypeName="t:Date" xsi:type="Start">
                  <operand localId="30" locator="58:21-58:40" name="Measurement Period" xsi:type="ParameterRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </low>
            <high localId="37" locator="58:43-58:98" resultTypeName="t:DateTime" xsi:type="DateTime">
               <year localId="34" locator="58:52-58:90" resultTypeName="t:Integer" precision="Year" xsi:type="DateTimeComponentFrom">
                  <operand localId="33" locator="58:62-58:90" resultTypeName="t:Date" xsi:type="Start">
                     <operand localId="32" locator="58:71-58:90" name="Measurement Period" xsi:type="ParameterRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </operand>
               </year>
               <month localId="35" locator="58:93" resultTypeName="t:Integer" valueType="t:Integer" value="6" xsi:type="Literal"/>
               <day localId="36" locator="58:96-58:97" resultTypeName="t:Integer" valueType="t:Integer" value="30" xsi:type="Literal"/>
            </high>
         </expression>
      </def>
      <def localId="51" locator="88:1-89:93" resultTypeName="t:Boolean" name="In Demographic" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="51">
               <a:s>define &quot;In Demographic&quot;:&#xd;
  </a:s>
               <a:s r="50">
                  <a:s r="46">
                     <a:s>AgeInYearsAt(</a:s>
                     <a:s r="45">
                        <a:s>DateTime(</a:s>
                        <a:s r="42">
                           <a:s>year from </a:s>
                           <a:s r="41">
                              <a:s>start of </a:s>
                              <a:s r="40">
                                 <a:s>&quot;Measurement Period&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s r="43">, 12, 31)</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s> in </a:s>
                  <a:s r="49">
                     <a:s r="47">Interval[18, 85]</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="50" locator="89:3-89:93" resultTypeName="t:Boolean" xsi:type="In">
            <operand localId="46" locator="89:3-89:73" resultTypeName="t:Integer" precision="Year" xsi:type="CalculateAgeAt">
               <operand xsi:type="ToDateTime">
                  <operand path="birthDate.value" xsi:type="Property">
                     <source name="Patient" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="45" locator="89:16-89:72" resultTypeName="t:DateTime" xsi:type="DateTime">
                  <year localId="42" locator="89:25-89:63" resultTypeName="t:Integer" precision="Year" xsi:type="DateTimeComponentFrom">
                     <operand localId="41" locator="89:35-89:63" resultTypeName="t:Date" xsi:type="Start">
                        <operand localId="40" locator="89:44-89:63" name="Measurement Period" xsi:type="ParameterRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                  </year>
                  <month localId="43" locator="89:66-89:67" resultTypeName="t:Integer" valueType="t:Integer" value="12" xsi:type="Literal"/>
                  <day localId="44" locator="89:70-89:71" resultTypeName="t:Integer" valueType="t:Integer" value="31" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="49" locator="89:78-89:93" lowClosed="true" highClosed="true" xsi:type="Interval">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <low localId="47" locator="89:87-89:88" resultTypeName="t:Integer" valueType="t:Integer" value="18" xsi:type="Literal"/>
               <high localId="48" locator="89:91-89:92" resultTypeName="t:Integer" valueType="t:Integer" value="85" xsi:type="Literal"/>
            </operand>
         </expression>
      </def>
      <def localId="66" locator="95:1-98:84" name="Outpatient Encounters Without UBREV" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="66">
               <a:s>define &quot;Outpatient Encounters Without UBREV&quot;:&#xd;
  </a:s>
               <a:s r="65">
                  <a:s>
                     <a:s r="54">
                        <a:s r="53">
                           <a:s r="53">
                              <a:s>[Encounter: </a:s>
                              <a:s>
                                 <a:s>&quot;Outpatient Without UBREV&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Encounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="64">
                     <a:s>where </a:s>
                     <a:s r="64">
                        <a:s r="58">
                           <a:s r="56">
                              <a:s r="55">
                                 <a:s>Encounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="56">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="57">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="63">
                           <a:s r="61">
                              <a:s r="60">
                                 <a:s r="59">
                                    <a:s>Encounters</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="60">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="61">
                                 <a:s>&quot;start&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in day of </a:s>
                           <a:s r="62">
                              <a:s>&quot;First 6 Months of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="65" locator="96:3-98:84" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="54" locator="96:3-96:52" alias="Encounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="53" locator="96:3-96:41" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="96:15-96:40" name="Outpatient Without UBREV" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="64" locator="97:5-98:84" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="58" locator="97:11-97:40" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="56" locator="97:11-97:27" resultTypeName="fhir:EncounterStatus" path="status" scope="Encounters" xsi:type="Property"/>
                  </operand>
                  <operand localId="57" locator="97:31-97:40" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
               <operand localId="63" locator="98:11-98:84" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="61" locator="98:11-98:35" resultTypeName="fhir:dateTime" path="start" xsi:type="Property">
                        <source localId="60" locator="98:11-98:27" resultTypeName="fhir:Period" path="period" scope="Encounters" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="62" locator="98:47-98:84" name="First 6 Months of Measurement Period" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="89" locator="100:1-105:33" name="Hypertension Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="89">
               <a:s>define &quot;Hypertension Diagnosis&quot;:&#xd;
  </a:s>
               <a:s r="88">
                  <a:s>
                     <a:s r="70">
                        <a:s r="69">
                           <a:s r="69">
                              <a:s>[Condition: </a:s>
                              <a:s>
                                 <a:s>&quot;Essential Hypertension&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> HTDiagnosis</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="84">
                     <a:s>where </a:s>
                     <a:s r="84">
                        <a:s r="79">
                           <a:s r="74">
                              <a:s r="72">
                                 <a:s r="71">
                                    <a:s>HTDiagnosis</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="72">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="73">
                                 <a:s>'active'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      and </a:s>
                           <a:s r="78">
                              <a:s r="76">
                                 <a:s r="75">
                                    <a:s>HTDiagnosis</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="76">
                                    <a:s>verificationStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="77">
                                 <a:s>'confirmed'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="83">
                           <a:s r="81">
                              <a:s r="80">
                                 <a:s>HTDiagnosis</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="81">
                                 <a:s>assertedDate</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in day of </a:s>
                           <a:s r="82">
                              <a:s>&quot;First 6 Months of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
        </a:s>
                  <a:s r="87">
                     <a:s>sort by </a:s>
                     <a:s r="86">
                        <a:s r="85">
                           <a:s>assertedDate</a:s>
                        </a:s>
                        <a:s> desc</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="88" locator="101:3-105:33" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="70" locator="101:3-101:51" alias="HTDiagnosis">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="69" locator="101:3-101:39" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="101:15-101:38" name="Essential Hypertension" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="84" locator="102:5-104:83" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="79" locator="102:11-103:54" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="74" locator="102:11-102:47" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="72" locator="102:11-102:36" resultTypeName="fhir:ConditionClinicalStatusCodes" path="clinicalStatus" scope="HTDiagnosis" xsi:type="Property"/>
                     </operand>
                     <operand localId="73" locator="102:40-102:47" resultTypeName="t:String" valueType="t:String" value="active" xsi:type="Literal"/>
                  </operand>
                  <operand localId="78" locator="103:11-103:54" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="76" locator="103:11-103:40" resultTypeName="fhir:ConditionVerificationStatus" path="verificationStatus" scope="HTDiagnosis" xsi:type="Property"/>
                     </operand>
                     <operand localId="77" locator="103:44-103:54" resultTypeName="t:String" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="83" locator="104:11-104:83" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="81" locator="104:11-104:34" resultTypeName="fhir:dateTime" path="assertedDate" scope="HTDiagnosis" xsi:type="Property"/>
                  </operand>
                  <operand localId="82" locator="104:46-104:83" name="First 6 Months of Measurement Period" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
            <sort localId="87" locator="105:9-105:33">
               <by localId="86" locator="105:17-105:33" resultTypeName="fhir:dateTime" direction="desc" path="assertedDate" xsi:type="ByColumn"/>
            </sort>
         </expression>
      </def>
      <def localId="101" locator="111:1-115:3" resultTypeName="t:Boolean" name="Event Diagnosis Context Match" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="101">
               <a:s>define &quot;Event Diagnosis Context Match&quot;:&#xd;
  </a:s>
               <a:s r="100">
                  <a:s>exists</a:s>
                  <a:s r="99">
                     <a:s>(&#xd;
    </a:s>
                     <a:s r="99">
                        <a:s>
                           <a:s r="68">
                              <a:s r="67">
                                 <a:s>
                                    <a:s>&quot;Outpatient Encounters Without UBREV&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> Encounters</a:s>
                           </a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="98">
                           <a:s>with </a:s>
                           <a:s r="91">
                              <a:s r="90">
                                 <a:s>
                                    <a:s>&quot;Hypertension Diagnosis&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> HTDiagnosis</a:s>
                           </a:s>
                           <a:s>&#xd;
      such that </a:s>
                           <a:s r="97">
                              <a:s>EndsWith(</a:s>
                              <a:s r="94">
                                 <a:s r="93">
                                    <a:s r="92">
                                       <a:s>HTDiagnosis</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="93">
                                       <a:s>&quot;context&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="94">
                                    <a:s>reference</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="96">
                                 <a:s r="95">
                                    <a:s>Encounters</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="96">
                                    <a:s>id</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="100" locator="112:3-115:3" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="99" locator="112:9-115:3" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="68" locator="113:5-113:52" alias="Encounters">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="67" locator="113:5-113:41" name="Outpatient Encounters Without UBREV" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
               </source>
               <relationship localId="98" locator="113:54-114:72" alias="HTDiagnosis" xsi:type="With">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="90" locator="113:59-113:82" name="Hypertension Diagnosis" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
                  <suchThat localId="97" locator="114:17-114:72" resultTypeName="t:Boolean" xsi:type="EndsWith">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="94" locator="114:26-114:56" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                           <source localId="93" locator="114:26-114:46" resultTypeName="fhir:Reference" path="context" scope="HTDiagnosis" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="96" locator="114:59-114:71" resultTypeName="fhir:id" path="id" scope="Encounters" xsi:type="Property"/>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="115" locator="118:1-122:3" resultTypeName="t:Boolean" name="Event Diagnosis Date Match" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="115">
               <a:s>define &quot;Event Diagnosis Date Match&quot;:&#xd;
  </a:s>
               <a:s r="114">
                  <a:s>exists</a:s>
                  <a:s r="113">
                     <a:s>(&#xd;
    </a:s>
                     <a:s r="113">
                        <a:s>
                           <a:s r="104">
                              <a:s r="103">
                                 <a:s>
                                    <a:s>&quot;Outpatient Encounters Without UBREV&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> Encounters</a:s>
                           </a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="112">
                           <a:s>with </a:s>
                           <a:s r="106">
                              <a:s r="105">
                                 <a:s>
                                    <a:s>&quot;Hypertension Diagnosis&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> HTDiagnosis</a:s>
                           </a:s>
                           <a:s>&#xd;
      such that </a:s>
                           <a:s r="111">
                              <a:s r="108">
                                 <a:s r="107">
                                    <a:s>HTDiagnosis</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="108">
                                    <a:s>assertedDate</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in day of </a:s>
                              <a:s r="110">
                                 <a:s r="109">
                                    <a:s>Encounters</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="110">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="114" locator="119:3-122:3" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="113" locator="119:9-122:3" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="104" locator="120:5-120:52" alias="Encounters">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="103" locator="120:5-120:41" name="Outpatient Encounters Without UBREV" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
               </source>
               <relationship localId="112" locator="120:54-121:68" alias="HTDiagnosis" xsi:type="With">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="105" locator="120:59-120:82" name="Hypertension Diagnosis" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
                  <suchThat localId="111" locator="121:17-121:68" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="108" locator="121:17-121:40" resultTypeName="fhir:dateTime" path="assertedDate" scope="HTDiagnosis" xsi:type="Property"/>
                     </operand>
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="110" locator="121:52-121:68" resultTypeName="fhir:Period" path="period" scope="Encounters" xsi:type="Property"/>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="119" locator="107:1-108:78" resultTypeName="t:Boolean" name="Event Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="119">
               <a:s>define &quot;Event Diagnosis&quot;:&#xd;
  </a:s>
               <a:s r="118">
                  <a:s>AnyTrue( </a:s>
                  <a:s r="117">
                     <a:s>{ </a:s>
                     <a:s r="102">
                        <a:s>&quot;Event Diagnosis Context Match&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="116">
                        <a:s>&quot;Event Diagnosis Date Match&quot;</a:s>
                     </a:s>
                     <a:s> }</a:s>
                  </a:s>
                  <a:s> )</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="118" locator="108:3-108:78" resultTypeName="t:Boolean" xsi:type="AnyTrue">
            <source localId="117" locator="108:12-108:76" xsi:type="List">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <element localId="102" locator="108:14-108:44" resultTypeName="t:Boolean" name="Event Diagnosis Context Match" xsi:type="ExpressionRef"/>
               <element localId="116" locator="108:47-108:74" resultTypeName="t:Boolean" name="Event Diagnosis Date Match" xsi:type="ExpressionRef"/>
            </source>
         </expression>
      </def>
      <def localId="122" locator="60:1-61:40" resultTypeName="t:Boolean" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="122">
               <a:s>define &quot;Initial Population&quot;:&#xd;
  </a:s>
               <a:s r="121">
                  <a:s r="52">
                     <a:s>&quot;In Demographic&quot;</a:s>
                  </a:s>
                  <a:s> and </a:s>
                  <a:s r="120">
                     <a:s>&quot;Event Diagnosis&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="121" locator="61:3-61:40" resultTypeName="t:Boolean" xsi:type="And">
            <operand localId="52" locator="61:3-61:18" resultTypeName="t:Boolean" name="In Demographic" xsi:type="ExpressionRef"/>
            <operand localId="120" locator="61:24-61:40" resultTypeName="t:Boolean" name="Event Diagnosis" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="130" locator="139:1-143:3" name="Lookback Period Year Prior to End of Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="130">
               <a:s>define &quot;Lookback Period Year Prior to End of Measurement Period&quot;:&#xd;
  </a:s>
               <a:s r="129">
                  <a:s>Interval[&#xd;
    </a:s>
                  <a:s r="126">
                     <a:s r="124">
                        <a:s>start of </a:s>
                        <a:s r="123">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s> - </a:s>
                     <a:s r="125">
                        <a:s>1 year</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,&#xd;
    </a:s>
                  <a:s r="128">
                     <a:s>end of </a:s>
                     <a:s r="127">
                        <a:s>&quot;Measurement Period&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
  ]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
            <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="129" locator="140:3-143:3" lowClosed="true" highClosed="true" xsi:type="Interval">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <low localId="126" locator="141:5-141:42" resultTypeName="t:Date" xsi:type="Subtract">
               <operand localId="124" locator="141:5-141:33" resultTypeName="t:Date" xsi:type="Start">
                  <operand localId="123" locator="141:14-141:33" name="Measurement Period" xsi:type="ParameterRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
               <operand localId="125" locator="141:37-141:42" resultTypeName="t:Quantity" value="1" unit="year" xsi:type="Quantity"/>
            </low>
            <high localId="128" locator="142:5-142:31" resultTypeName="t:Date" xsi:type="End">
               <operand localId="127" locator="142:12-142:31" name="Measurement Period" xsi:type="ParameterRef">
                  <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </operand>
            </high>
         </expression>
      </def>
      <def localId="161" locator="180:1-191:108" name="Diabetes Condition" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="161">
               <a:s>define &quot;Diabetes Condition&quot;:&#xd;
  </a:s>
               <a:s r="160">
                  <a:s>
                     <a:s r="132">
                        <a:s r="131">
                           <a:s r="131">
                              <a:s>[Condition: code in </a:s>
                              <a:s>
                                 <a:s>&quot;Diabetes&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> DiabetesCondition</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="159">
                     <a:s>where </a:s>
                     <a:s r="159">
                        <a:s r="154">
                           <a:s r="141">
                              <a:s r="136">
                                 <a:s r="134">
                                    <a:s r="133">
                                       <a:s>DiabetesCondition</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="134">
                                       <a:s>clinicalStatus</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="135">
                                    <a:s>'active'</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
      and </a:s>
                              <a:s r="140">
                                 <a:s r="138">
                                    <a:s r="137">
                                       <a:s>DiabetesCondition</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="138">
                                       <a:s>verificationStatus</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="139">
                                    <a:s>'confirmed'</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      and </a:s>
                           <a:s r="153">
                              <a:s>exists</a:s>
                              <a:s r="152">
                                 <a:s>(&#xd;
        </a:s>
                                 <a:s r="152">
                                    <a:s>
                                       <a:s r="143">
                                          <a:s r="142">
                                             <a:s>
                                                <a:s>DiabetesCondition.category</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> CategoryConcepts</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
          </a:s>
                                    <a:s r="151">
                                       <a:s>where </a:s>
                                       <a:s r="151">
                                          <a:s>exists</a:s>
                                          <a:s r="150">
                                             <a:s>(&#xd;
            </a:s>
                                             <a:s r="150">
                                                <a:s>
                                                   <a:s r="145">
                                                      <a:s r="144">
                                                         <a:s>
                                                            <a:s>CategoryConcepts.coding</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> ConceptCodes</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
              </a:s>
                                                <a:s r="149">
                                                   <a:s>where </a:s>
                                                   <a:s r="149">
                                                      <a:s r="147">
                                                         <a:s r="146">
                                                            <a:s>ConceptCodes</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="147">
                                                            <a:s>code</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> = </a:s>
                                                      <a:s r="148">
                                                         <a:s>'encounter-diagnosis'</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
          )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
      )</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="158">
                           <a:s r="156">
                              <a:s r="155">
                                 <a:s>DiabetesCondition</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="156">
                                 <a:s>assertedDate</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in day of </a:s>
                           <a:s r="157">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="160" locator="181:3-191:108" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="132" locator="181:3-181:51" alias="DiabetesCondition">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="131" locator="181:3-181:33" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="181:23-181:32" name="Diabetes" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="159" locator="182:5-191:108" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="154" locator="182:11-190:7" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="141" locator="182:11-183:60" resultTypeName="t:Boolean" xsi:type="And">
                     <operand localId="136" locator="182:11-182:53" resultTypeName="t:Boolean" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="134" locator="182:11-182:42" resultTypeName="fhir:ConditionClinicalStatusCodes" path="clinicalStatus" scope="DiabetesCondition" xsi:type="Property"/>
                        </operand>
                        <operand localId="135" locator="182:46-182:53" resultTypeName="t:String" valueType="t:String" value="active" xsi:type="Literal"/>
                     </operand>
                     <operand localId="140" locator="183:11-183:60" resultTypeName="t:Boolean" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="138" locator="183:11-183:46" resultTypeName="fhir:ConditionVerificationStatus" path="verificationStatus" scope="DiabetesCondition" xsi:type="Property"/>
                        </operand>
                        <operand localId="139" locator="183:50-183:60" resultTypeName="t:String" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="153" locator="184:11-190:7" resultTypeName="t:Boolean" xsi:type="Exists">
                     <operand localId="152" locator="184:17-190:7" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="143" locator="185:9-185:51" alias="CategoryConcepts">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="142" locator="185:9-185:34" path="category" scope="DiabetesCondition" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <where localId="151" locator="186:11-189:11" resultTypeName="t:Boolean" xsi:type="Exists">
                           <operand localId="150" locator="186:23-189:11" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="145" locator="187:13-187:48" alias="ConceptCodes">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="144" locator="187:13-187:35" path="coding" scope="CategoryConcepts" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <where localId="149" locator="188:15-188:61" resultTypeName="t:Boolean" xsi:type="Equal">
                                 <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="147" locator="188:21-188:37" resultTypeName="fhir:code" path="code" scope="ConceptCodes" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="148" locator="188:41-188:61" resultTypeName="t:String" valueType="t:String" value="encounter-diagnosis" xsi:type="Literal"/>
                              </where>
                           </operand>
                        </where>
                     </operand>
                  </operand>
               </operand>
               <operand localId="158" locator="191:11-191:108" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="156" locator="191:11-191:40" resultTypeName="fhir:dateTime" path="assertedDate" scope="DiabetesCondition" xsi:type="Property"/>
                  </operand>
                  <operand xsi:type="Interval">
                     <low xsi:type="ToDateTime">
                        <operand path="low" xsi:type="Property">
                           <source localId="157" locator="191:52-191:108" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </low>
                     <lowClosedExpression path="lowClosed" xsi:type="Property">
                        <source localId="157" locator="191:52-191:108" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </lowClosedExpression>
                     <high xsi:type="ToDateTime">
                        <operand path="high" xsi:type="Property">
                           <source localId="157" locator="191:52-191:108" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </high>
                     <highClosedExpression path="highClosed" xsi:type="Property">
                        <source localId="157" locator="191:52-191:108" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </highClosedExpression>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="180" locator="223:1-227:35" name="Outpatient Encounters" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="180">
               <a:s>define &quot;Outpatient Encounters&quot;:&#xd;
  </a:s>
               <a:s r="179">
                  <a:s>
                     <a:s r="165">
                        <a:s r="164">
                           <a:s r="164">
                              <a:s>[Encounter: type in </a:s>
                              <a:s>
                                 <a:s>&quot;Outpatient&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> OutpatientEncounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="174">
                     <a:s>where </a:s>
                     <a:s r="174">
                        <a:s r="169">
                           <a:s r="167">
                              <a:s r="166">
                                 <a:s>OutpatientEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="167">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="168">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="173">
                           <a:s r="171">
                              <a:s r="170">
                                 <a:s>OutpatientEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="171">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="173"> during day of </a:s>
                           <a:s r="172">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
        </a:s>
                  <a:s r="178">
                     <a:s>sort by </a:s>
                     <a:s r="177">
                        <a:s r="176">
                           <a:s r="175">
                              <a:s>period</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="176">
                              <a:s>&quot;start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> desc</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="179" locator="224:3-227:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="165" locator="224:3-224:56" alias="OutpatientEncounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="164" locator="224:3-224:35" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="224:23-224:34" name="Outpatient" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="174" locator="225:5-226:109" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="169" locator="225:11-225:50" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="167" locator="225:11-225:37" resultTypeName="fhir:EncounterStatus" path="status" scope="OutpatientEncounters" xsi:type="Property"/>
                  </operand>
                  <operand localId="168" locator="225:41-225:50" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
               <operand localId="173" locator="226:11-226:109" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand localId="171" locator="226:11-226:37" resultTypeName="fhir:Period" path="period" scope="OutpatientEncounters" xsi:type="Property"/>
                  <operand localId="172" locator="226:53-226:109" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
            <sort localId="178" locator="227:9-227:35">
               <by localId="177" locator="227:17-227:35" resultTypeName="fhir:dateTime" direction="desc" xsi:type="ByExpression">
                  <expression localId="176" locator="227:17-227:30" resultTypeName="fhir:dateTime" path="start" xsi:type="Property">
                     <source localId="175" locator="227:17-227:22" resultTypeName="fhir:Period" name="period" xsi:type="IdentifierRef"/>
                  </expression>
               </by>
            </sort>
         </expression>
      </def>
      <def localId="198" locator="229:1-233:35" name="Observation Encounters" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="198">
               <a:s>define &quot;Observation Encounters&quot;:&#xd;
  </a:s>
               <a:s r="197">
                  <a:s>
                     <a:s r="183">
                        <a:s r="182">
                           <a:s r="182">
                              <a:s>[Encounter: type in </a:s>
                              <a:s>
                                 <a:s>&quot;Observation&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ObservationEncounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="192">
                     <a:s>where </a:s>
                     <a:s r="192">
                        <a:s r="187">
                           <a:s r="185">
                              <a:s r="184">
                                 <a:s>ObservationEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="185">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="186">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="191">
                           <a:s r="189">
                              <a:s r="188">
                                 <a:s>ObservationEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="189">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="191"> during day of </a:s>
                           <a:s r="190">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
        </a:s>
                  <a:s r="196">
                     <a:s>sort by </a:s>
                     <a:s r="195">
                        <a:s r="194">
                           <a:s r="193">
                              <a:s>period</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="194">
                              <a:s>&quot;start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> desc</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="197" locator="230:3-233:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="183" locator="230:3-230:58" alias="ObservationEncounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="182" locator="230:3-230:36" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="230:23-230:35" name="Observation" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="192" locator="231:5-232:110" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="187" locator="231:11-231:51" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="185" locator="231:11-231:38" resultTypeName="fhir:EncounterStatus" path="status" scope="ObservationEncounters" xsi:type="Property"/>
                  </operand>
                  <operand localId="186" locator="231:42-231:51" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
               <operand localId="191" locator="232:11-232:110" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand localId="189" locator="232:11-232:38" resultTypeName="fhir:Period" path="period" scope="ObservationEncounters" xsi:type="Property"/>
                  <operand localId="190" locator="232:54-232:110" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
            <sort localId="196" locator="233:9-233:35">
               <by localId="195" locator="233:17-233:35" resultTypeName="fhir:dateTime" direction="desc" xsi:type="ByExpression">
                  <expression localId="194" locator="233:17-233:30" resultTypeName="fhir:dateTime" path="start" xsi:type="Property">
                     <source localId="193" locator="233:17-233:22" resultTypeName="fhir:Period" name="period" xsi:type="IdentifierRef"/>
                  </expression>
               </by>
            </sort>
         </expression>
      </def>
      <def localId="217" locator="235:1-239:35" name="ED Encounters" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="217">
               <a:s>define &quot;ED Encounters&quot;:&#xd;
  </a:s>
               <a:s r="216">
                  <a:s>
                     <a:s r="202">
                        <a:s r="201">
                           <a:s r="201">
                              <a:s>[Encounter: type in </a:s>
                              <a:s>
                                 <a:s>&quot;ED&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDEncounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="211">
                     <a:s>where </a:s>
                     <a:s r="211">
                        <a:s r="206">
                           <a:s r="204">
                              <a:s r="203">
                                 <a:s>EDEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="204">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="205">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="210">
                           <a:s r="208">
                              <a:s r="207">
                                 <a:s>EDEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="208">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="210"> during day of </a:s>
                           <a:s r="209">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
        </a:s>
                  <a:s r="215">
                     <a:s>sort by </a:s>
                     <a:s r="214">
                        <a:s r="213">
                           <a:s r="212">
                              <a:s>period</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="213">
                              <a:s>&quot;start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> desc</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="216" locator="236:3-239:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="202" locator="236:3-236:40" alias="EDEncounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="201" locator="236:3-236:27" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="236:23-236:26" name="ED" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="211" locator="237:5-238:101" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="206" locator="237:11-237:42" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="204" locator="237:11-237:29" resultTypeName="fhir:EncounterStatus" path="status" scope="EDEncounters" xsi:type="Property"/>
                  </operand>
                  <operand localId="205" locator="237:33-237:42" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
               <operand localId="210" locator="238:11-238:101" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand localId="208" locator="238:11-238:29" resultTypeName="fhir:Period" path="period" scope="EDEncounters" xsi:type="Property"/>
                  <operand localId="209" locator="238:45-238:101" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
            <sort localId="215" locator="239:9-239:35">
               <by localId="214" locator="239:17-239:35" resultTypeName="fhir:dateTime" direction="desc" xsi:type="ByExpression">
                  <expression localId="213" locator="239:17-239:30" resultTypeName="fhir:dateTime" path="start" xsi:type="Property">
                     <source localId="212" locator="239:17-239:22" resultTypeName="fhir:Period" name="period" xsi:type="IdentifierRef"/>
                  </expression>
               </by>
            </sort>
         </expression>
      </def>
      <def localId="236" locator="241:1-245:35" name="Nonacute Inpatient Encounters" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="236">
               <a:s>define &quot;Nonacute Inpatient Encounters&quot;:&#xd;
  </a:s>
               <a:s r="235">
                  <a:s>
                     <a:s r="221">
                        <a:s r="220">
                           <a:s r="220">
                              <a:s>[Encounter: type in </a:s>
                              <a:s>
                                 <a:s>&quot;Nonacute Inpatient&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NonacuteEncounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="230">
                     <a:s>where </a:s>
                     <a:s r="230">
                        <a:s r="225">
                           <a:s r="223">
                              <a:s r="222">
                                 <a:s>NonacuteEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="223">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="224">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="229">
                           <a:s r="227">
                              <a:s r="226">
                                 <a:s>NonacuteEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="227">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="229"> during day of </a:s>
                           <a:s r="228">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
        </a:s>
                  <a:s r="234">
                     <a:s>sort by </a:s>
                     <a:s r="233">
                        <a:s r="232">
                           <a:s r="231">
                              <a:s>period</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="232">
                              <a:s>&quot;start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> desc</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="235" locator="242:3-245:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="221" locator="242:3-242:62" alias="NonacuteEncounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="220" locator="242:3-242:43" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="242:23-242:42" name="Nonacute Inpatient" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="230" locator="243:5-244:107" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="225" locator="243:11-243:48" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="223" locator="243:11-243:35" resultTypeName="fhir:EncounterStatus" path="status" scope="NonacuteEncounters" xsi:type="Property"/>
                  </operand>
                  <operand localId="224" locator="243:39-243:48" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
               <operand localId="229" locator="244:11-244:107" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand localId="227" locator="244:11-244:35" resultTypeName="fhir:Period" path="period" scope="NonacuteEncounters" xsi:type="Property"/>
                  <operand localId="228" locator="244:51-244:107" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
            <sort localId="234" locator="245:9-245:35">
               <by localId="233" locator="245:17-245:35" resultTypeName="fhir:dateTime" direction="desc" xsi:type="ByExpression">
                  <expression localId="232" locator="245:17-245:30" resultTypeName="fhir:dateTime" path="start" xsi:type="Property">
                     <source localId="231" locator="245:17-245:22" resultTypeName="fhir:Period" name="period" xsi:type="IdentifierRef"/>
                  </expression>
               </by>
            </sort>
         </expression>
      </def>
      <def localId="260" locator="204:1-214:23" name="Encounters with Diabetes Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="260">
               <a:s>define &quot;Encounters with Diabetes Diagnosis&quot;:&#xd;
  </a:s>
               <a:s r="259">
                  <a:s>
                     <a:s r="239">
                        <a:s r="238">
                           <a:s>(&#xd;
    </a:s>
                           <a:s r="238">
                              <a:s r="219">
                                 <a:s r="200">
                                    <a:s r="181">
                                       <a:s>&quot;Outpatient Encounters&quot;</a:s>
                                    </a:s>
                                    <a:s>&#xd;
      union </a:s>
                                    <a:s r="199">
                                       <a:s>&quot;Observation Encounters&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
      union </a:s>
                                 <a:s r="218">
                                    <a:s>&quot;ED Encounters&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
      union </a:s>
                              <a:s r="237">
                                 <a:s>&quot;Nonacute Inpatient Encounters&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
  )</a:s>
                        </a:s>
                        <a:s> Encounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
      </a:s>
                  <a:s r="256">
                     <a:s>with </a:s>
                     <a:s r="241">
                        <a:s r="240">
                           <a:s>
                              <a:s>&quot;Diabetes Condition&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> DiabetesCondition</a:s>
                     </a:s>
                     <a:s>&#xd;
        such that </a:s>
                     <a:s r="255">
                        <a:s r="248">
                           <a:s>EndsWith(</a:s>
                           <a:s r="245">
                              <a:s r="244">
                                 <a:s r="243">
                                    <a:s r="242">
                                       <a:s>Encounters</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="243">
                                       <a:s>diagnosis</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="244">
                                    <a:s>condition</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="245">
                                 <a:s>reference</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="247">
                              <a:s r="246">
                                 <a:s>DiabetesCondition</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="247">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s>&#xd;
          or </a:s>
                        <a:s r="254">
                           <a:s>EndsWith(</a:s>
                           <a:s r="251">
                              <a:s r="250">
                                 <a:s r="249">
                                    <a:s>DiabetesCondition</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="250">
                                    <a:s>&quot;context&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="251">
                                 <a:s>reference</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="253">
                              <a:s r="252">
                                 <a:s>Encounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="253">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
      </a:s>
                  <a:s r="258">
                     <a:s>return </a:s>
                     <a:s r="257">
                        <a:s>Encounters</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="259" locator="205:3-214:23" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="239" locator="205:3-210:14" alias="Encounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="238" locator="205:3-210:3" xsi:type="Union">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="200" locator="206:5-207:36" xsi:type="Union">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <operand localId="181" locator="206:5-206:27" name="Outpatient Encounters" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="199" locator="207:13-207:36" name="Observation Encounters" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="218" locator="208:13-208:27" name="ED Encounters" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="237" locator="209:13-209:43" name="Nonacute Inpatient Encounters" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </operand>
               </expression>
            </source>
            <relationship localId="256" locator="211:7-213:75" alias="DiabetesCondition" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="240" locator="211:12-211:31" name="Diabetes Condition" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="255" locator="212:19-213:75" resultTypeName="t:Boolean" xsi:type="Or">
                  <operand localId="248" locator="212:19-212:90" resultTypeName="t:Boolean" xsi:type="EndsWith">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand xsi:type="SingletonFrom">
                           <operand localId="245" locator="212:28-212:67" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source alias="$this">
                                 <expression localId="244" locator="212:28-212:57" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source alias="$this">
                                       <expression localId="243" locator="212:28-212:47" path="diagnosis" scope="Encounters" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Encounter.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="condition" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="condition" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </expression>
                              </source>
                              <where xsi:type="Not">
                                 <operand xsi:type="IsNull">
                                    <operand path="reference" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </operand>
                                 </operand>
                              </where>
                              <return>
                                 <expression path="reference" xsi:type="Property">
                                    <source name="$this" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </operand>
                        </operand>
                     </operand>
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="247" locator="212:70-212:89" resultTypeName="fhir:id" path="id" scope="DiabetesCondition" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="254" locator="213:14-213:75" resultTypeName="t:Boolean" xsi:type="EndsWith">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="251" locator="213:23-213:59" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                           <source localId="250" locator="213:23-213:49" resultTypeName="fhir:Reference" path="context" scope="DiabetesCondition" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="253" locator="213:62-213:74" resultTypeName="fhir:id" path="id" scope="Encounters" xsi:type="Property"/>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
            <return localId="258" locator="214:7-214:23">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="257" locator="214:14-214:23" resultTypeName="fhir:Encounter" name="Encounters" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="268" locator="193:1-197:3" resultTypeName="t:Integer" name="Count Encounters with Diabetes Diagnosis on Different Dates of Service" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="268">
               <a:s>define &quot;Count Encounters with Diabetes Diagnosis on Different Dates of Service&quot;:&#xd;
  </a:s>
               <a:s r="267">
                  <a:s>Count(&#xd;
    </a:s>
                  <a:s r="266">
                     <a:s>
                        <a:s r="262">
                           <a:s r="261">
                              <a:s>
                                 <a:s>&quot;Encounters with Diabetes Diagnosis&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> DiabetesDiagnosisEncounters</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
      </a:s>
                     <a:s r="265">
                        <a:s>return distinct</a:s>
                        <a:s r="264">
                           <a:s>(</a:s>
                           <a:s r="264">
                              <a:s r="263">
                                 <a:s>DiabetesDiagnosisEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="264">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
  )</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="267" locator="194:3-197:3" resultTypeName="t:Integer" xsi:type="Count">
            <source localId="266" locator="195:5-196:57" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="262" locator="195:5-195:68" alias="DiabetesDiagnosisEncounters">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="261" locator="195:5-195:40" name="Encounters with Diabetes Diagnosis" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
               </source>
               <return localId="265" locator="196:7-196:57" distinct="true">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="264" locator="196:22-196:57" resultTypeName="fhir:Period" path="period" scope="DiabetesDiagnosisEncounters" xsi:type="Property"/>
               </return>
            </source>
         </expression>
      </def>
      <def localId="288" locator="247:1-251:35" name="Acute Inpatient Encounters" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="288">
               <a:s>define &quot;Acute Inpatient Encounters&quot;:&#xd;
  </a:s>
               <a:s r="287">
                  <a:s>
                     <a:s r="273">
                        <a:s r="272">
                           <a:s r="272">
                              <a:s>[Encounter: type in </a:s>
                              <a:s>
                                 <a:s>&quot;Nonacute Inpatient&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AcuteEncounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="282">
                     <a:s>where </a:s>
                     <a:s r="282">
                        <a:s r="277">
                           <a:s r="275">
                              <a:s r="274">
                                 <a:s>AcuteEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="275">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="276">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="281">
                           <a:s r="279">
                              <a:s r="278">
                                 <a:s>AcuteEncounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="279">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="281"> during day of </a:s>
                           <a:s r="280">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
        </a:s>
                  <a:s r="286">
                     <a:s>sort by </a:s>
                     <a:s r="285">
                        <a:s r="284">
                           <a:s r="283">
                              <a:s>period</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="284">
                              <a:s>&quot;start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> desc</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="287" locator="248:3-251:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="273" locator="248:3-248:59" alias="AcuteEncounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="272" locator="248:3-248:43" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="248:23-248:42" name="Nonacute Inpatient" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="282" locator="249:5-250:104" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="277" locator="249:11-249:45" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="275" locator="249:11-249:32" resultTypeName="fhir:EncounterStatus" path="status" scope="AcuteEncounters" xsi:type="Property"/>
                  </operand>
                  <operand localId="276" locator="249:36-249:45" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
               <operand localId="281" locator="250:11-250:104" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand localId="279" locator="250:11-250:32" resultTypeName="fhir:Period" path="period" scope="AcuteEncounters" xsi:type="Property"/>
                  <operand localId="280" locator="250:48-250:104" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
            <sort localId="286" locator="251:9-251:35">
               <by localId="285" locator="251:17-251:35" resultTypeName="fhir:dateTime" direction="desc" xsi:type="ByExpression">
                  <expression localId="284" locator="251:17-251:30" resultTypeName="fhir:dateTime" path="start" xsi:type="Property">
                     <source localId="283" locator="251:17-251:22" resultTypeName="fhir:Period" name="period" xsi:type="IdentifierRef"/>
                  </expression>
               </by>
            </sort>
         </expression>
      </def>
      <def localId="311" locator="216:1-221:21" name="Acute Encounters with Diabetes Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="311">
               <a:s>define &quot;Acute Encounters with Diabetes Diagnosis&quot;:&#xd;
  </a:s>
               <a:s r="310">
                  <a:s>
                     <a:s r="290">
                        <a:s r="289">
                           <a:s>
                              <a:s>&quot;Acute Inpatient Encounters&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Encounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="307">
                     <a:s>with </a:s>
                     <a:s r="292">
                        <a:s r="291">
                           <a:s>
                              <a:s>&quot;Diabetes Condition&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> DiabetesCondition</a:s>
                     </a:s>
                     <a:s>&#xd;
      such that </a:s>
                     <a:s r="306">
                        <a:s r="299">
                           <a:s>EndsWith(</a:s>
                           <a:s r="296">
                              <a:s r="295">
                                 <a:s r="294">
                                    <a:s r="293">
                                       <a:s>Encounters</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="294">
                                       <a:s>diagnosis</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="295">
                                    <a:s>condition</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="296">
                                 <a:s>reference</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="298">
                              <a:s r="297">
                                 <a:s>DiabetesCondition</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="298">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s>&#xd;
        or </a:s>
                        <a:s r="305">
                           <a:s>EndsWith(</a:s>
                           <a:s r="302">
                              <a:s r="301">
                                 <a:s r="300">
                                    <a:s>DiabetesCondition</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="301">
                                    <a:s>&quot;context&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="302">
                                 <a:s>reference</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="304">
                              <a:s r="303">
                                 <a:s>Encounters</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="304">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="309">
                     <a:s>return </a:s>
                     <a:s r="308">
                        <a:s>Encounters</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="310" locator="217:3-221:21" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="290" locator="217:3-217:41" alias="Encounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="289" locator="217:3-217:30" name="Acute Inpatient Encounters" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="307" locator="218:5-220:73" alias="DiabetesCondition" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="291" locator="218:10-218:29" name="Diabetes Condition" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="306" locator="219:17-220:73" resultTypeName="t:Boolean" xsi:type="Or">
                  <operand localId="299" locator="219:17-219:88" resultTypeName="t:Boolean" xsi:type="EndsWith">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand xsi:type="SingletonFrom">
                           <operand localId="296" locator="219:26-219:65" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source alias="$this">
                                 <expression localId="295" locator="219:26-219:55" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source alias="$this">
                                       <expression localId="294" locator="219:26-219:45" path="diagnosis" scope="Encounters" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Encounter.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="condition" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="condition" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </expression>
                              </source>
                              <where xsi:type="Not">
                                 <operand xsi:type="IsNull">
                                    <operand path="reference" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </operand>
                                 </operand>
                              </where>
                              <return>
                                 <expression path="reference" xsi:type="Property">
                                    <source name="$this" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </operand>
                        </operand>
                     </operand>
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="298" locator="219:68-219:87" resultTypeName="fhir:id" path="id" scope="DiabetesCondition" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="305" locator="220:12-220:73" resultTypeName="t:Boolean" xsi:type="EndsWith">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="302" locator="220:21-220:57" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                           <source localId="301" locator="220:21-220:47" resultTypeName="fhir:Reference" path="context" scope="DiabetesCondition" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="304" locator="220:60-220:72" resultTypeName="fhir:id" path="id" scope="Encounters" xsi:type="Property"/>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
            <return localId="309" locator="221:5-221:21">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="308" locator="221:12-221:21" resultTypeName="fhir:Encounter" name="Encounters" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="316" locator="199:1-202:3" resultTypeName="t:Integer" name="Count Acute Encounters with Diabetes Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="316">
               <a:s>define &quot;Count Acute Encounters with Diabetes Diagnosis&quot;:&#xd;
  </a:s>
               <a:s r="315">
                  <a:s>Count(&#xd;
    </a:s>
                  <a:s r="314">
                     <a:s>
                        <a:s r="313">
                           <a:s r="312">
                              <a:s>
                                 <a:s>&quot;Acute Encounters with Diabetes Diagnosis&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> DiabetesDiagnosisEncounters</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
  )</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="315" locator="200:3-202:3" resultTypeName="t:Integer" xsi:type="Count">
            <source localId="314" locator="201:5-201:74" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="313" locator="201:5-201:74" alias="DiabetesDiagnosisEncounters">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="312" locator="201:5-201:46" name="Acute Encounters with Diabetes Diagnosis" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
               </source>
            </source>
         </expression>
      </def>
      <def localId="323" locator="173:1-177:12" resultTypeName="t:Boolean" name="Is Diabetic Using Claim and Encounter Data?" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="323">
               <a:s>define &quot;Is Diabetic Using Claim and Encounter Data?&quot;:&#xd;
  </a:s>
               <a:s r="322">
                  <a:s>if </a:s>
                  <a:s r="163">
                     <a:s>exists</a:s>
                     <a:s r="162">
                        <a:s>(</a:s>
                        <a:s r="162">
                           <a:s>&quot;Diabetes Condition&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    then </a:s>
                  <a:s r="320">
                     <a:s>(</a:s>
                     <a:s r="320">
                        <a:s r="271">
                           <a:s r="269">
                              <a:s>&quot;Count Encounters with Diabetes Diagnosis on Different Dates of Service&quot;</a:s>
                           </a:s>
                           <a:s r="270"> >= 2</a:s>
                        </a:s>
                        <a:s>&#xd;
      or </a:s>
                        <a:s r="319">
                           <a:s r="317">
                              <a:s>&quot;Count Acute Encounters with Diabetes Diagnosis&quot;</a:s>
                           </a:s>
                           <a:s r="318"> >= 1</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="321">&#xd;
  else false</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="322" locator="174:3-177:12" resultTypeName="t:Boolean" xsi:type="If">
            <condition asType="t:Boolean" xsi:type="As">
               <operand localId="163" locator="174:6-174:33" resultTypeName="t:Boolean" xsi:type="Exists">
                  <operand localId="162" locator="174:12-174:33" name="Diabetes Condition" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </condition>
            <then localId="320" locator="175:10-176:63" resultTypeName="t:Boolean" xsi:type="Or">
               <operand localId="271" locator="175:11-175:87" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
                  <operand localId="269" locator="175:11-175:82" resultTypeName="t:Integer" name="Count Encounters with Diabetes Diagnosis on Different Dates of Service" xsi:type="ExpressionRef"/>
                  <operand localId="270" locator="175:87" resultTypeName="t:Integer" valueType="t:Integer" value="2" xsi:type="Literal"/>
               </operand>
               <operand localId="319" locator="176:10-176:62" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
                  <operand localId="317" locator="176:10-176:57" resultTypeName="t:Integer" name="Count Acute Encounters with Diabetes Diagnosis" xsi:type="ExpressionRef"/>
                  <operand localId="318" locator="176:62" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
               </operand>
            </then>
            <else localId="321" locator="177:8-177:12" resultTypeName="t:Boolean" valueType="t:Boolean" value="false" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="337" locator="262:1-265:119" name="Members Dispensed Diabetes Medications During Step 1 Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="337">
               <a:s>define &quot;Members Dispensed Diabetes Medications During Step 1 Period&quot;:&#xd;
  </a:s>
               <a:s r="336">
                  <a:s>
                     <a:s r="326">
                        <a:s r="325">
                           <a:s r="325">
                              <a:s>[MedicationDispense: medicationCodeableConcept in </a:s>
                              <a:s>
                                 <a:s>&quot;Diabetes Medications List&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> DiabetesMedicationDispense</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="335">
                     <a:s>where </a:s>
                     <a:s r="335">
                        <a:s r="330">
                           <a:s r="328">
                              <a:s r="327">
                                 <a:s>DiabetesMedicationDispense</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="328">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="329">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="334">
                           <a:s r="332">
                              <a:s r="331">
                                 <a:s>DiabetesMedicationDispense</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="332">
                                 <a:s>whenHandedOver</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in day of </a:s>
                           <a:s r="333">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:MedicationDispense" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="336" locator="263:3-265:119" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:MedicationDispense" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="326" locator="263:3-263:107" alias="DiabetesMedicationDispense">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationDispense" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="325" locator="263:3-263:80" dataType="fhir:MedicationDispense" codeProperty="medicationCodeableConcept" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationDispense" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="263:53-263:79" name="Diabetes Medications List" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="335" locator="264:5-265:119" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="330" locator="264:11-264:57" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="328" locator="264:11-264:43" resultTypeName="fhir:MedicationDispenseStatus" path="status" scope="DiabetesMedicationDispense" xsi:type="Property"/>
                  </operand>
                  <operand localId="329" locator="264:47-264:57" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="334" locator="265:11-265:119" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="332" locator="265:11-265:51" resultTypeName="fhir:dateTime" path="whenHandedOver" scope="DiabetesMedicationDispense" xsi:type="Property"/>
                  </operand>
                  <operand xsi:type="Interval">
                     <low xsi:type="ToDateTime">
                        <operand path="low" xsi:type="Property">
                           <source localId="333" locator="265:63-265:119" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </low>
                     <lowClosedExpression path="lowClosed" xsi:type="Property">
                        <source localId="333" locator="265:63-265:119" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </lowClosedExpression>
                     <high xsi:type="ToDateTime">
                        <operand path="high" xsi:type="Property">
                           <source localId="333" locator="265:63-265:119" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </high>
                     <highClosedExpression path="highClosed" xsi:type="Property">
                        <source localId="333" locator="265:63-265:119" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </highClosedExpression>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="340" locator="259:1-260:73" resultTypeName="t:Boolean" name="Is Diabetic Using Pharmacy Data" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="340">
               <a:s>define &quot;Is Diabetic Using Pharmacy Data&quot;:&#xd;
  </a:s>
               <a:s r="339">
                  <a:s>exists</a:s>
                  <a:s r="338">
                     <a:s>( </a:s>
                     <a:s r="338">
                        <a:s>&quot;Members Dispensed Diabetes Medications During Step 1 Period&quot;</a:s>
                     </a:s>
                     <a:s> )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="339" locator="260:3-260:73" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="338" locator="260:9-260:73" name="Members Dispensed Diabetes Medications During Step 1 Period" xsi:type="ExpressionRef">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationDispense" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="343" locator="145:1-147:40" resultTypeName="t:Boolean" name="Step 1 Is Diabetic Flag" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="343">
               <a:s>define &quot;Step 1 Is Diabetic Flag&quot;:&#xd;
  </a:s>
               <a:s r="342">
                  <a:s r="324">
                     <a:s>&quot;Is Diabetic Using Claim and Encounter Data?&quot;</a:s>
                  </a:s>
                  <a:s>&#xd;
    or </a:s>
                  <a:s r="341">
                     <a:s>&quot;Is Diabetic Using Pharmacy Data&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="342" locator="146:3-147:40" resultTypeName="t:Boolean" xsi:type="Or">
            <operand localId="324" locator="146:3-146:47" resultTypeName="t:Boolean" name="Is Diabetic Using Claim and Encounter Data?" xsi:type="ExpressionRef"/>
            <operand localId="341" locator="147:8-147:40" resultTypeName="t:Boolean" name="Is Diabetic Using Pharmacy Data" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="367" locator="292:1-299:3" resultTypeName="t:Boolean" name="Diabetes Diagnosis in Any Setting" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="367">
               <a:s>define &quot;Diabetes Diagnosis in Any Setting&quot;:&#xd;
  </a:s>
               <a:s r="366">
                  <a:s>exists</a:s>
                  <a:s r="365">
                     <a:s>(&#xd;
    </a:s>
                     <a:s r="365">
                        <a:s>
                           <a:s r="345">
                              <a:s r="344">
                                 <a:s r="344">
                                    <a:s>[Encounter]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> Encounters</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      </a:s>
                        <a:s r="362">
                           <a:s>with </a:s>
                           <a:s r="347">
                              <a:s r="346">
                                 <a:s>
                                    <a:s>&quot;Diabetes Condition&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> DiabetesCondition</a:s>
                           </a:s>
                           <a:s>&#xd;
        such that </a:s>
                           <a:s r="361">
                              <a:s r="354">
                                 <a:s>EndsWith(</a:s>
                                 <a:s r="351">
                                    <a:s r="350">
                                       <a:s r="349">
                                          <a:s r="348">
                                             <a:s>Encounters</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="349">
                                             <a:s>diagnosis</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="350">
                                          <a:s>condition</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="351">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="353">
                                    <a:s r="352">
                                       <a:s>DiabetesCondition</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="353">
                                       <a:s>id</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>&#xd;
          or </a:s>
                              <a:s r="360">
                                 <a:s>EndsWith(</a:s>
                                 <a:s r="357">
                                    <a:s r="356">
                                       <a:s r="355">
                                          <a:s>DiabetesCondition</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="356">
                                          <a:s>&quot;context&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="357">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="359">
                                    <a:s r="358">
                                       <a:s>Encounters</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="359">
                                       <a:s>id</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      </a:s>
                        <a:s r="364">
                           <a:s>return </a:s>
                           <a:s r="363">
                              <a:s>Encounters</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="366" locator="293:3-299:3" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="365" locator="293:9-299:3" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="345" locator="294:5-294:26" alias="Encounters">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="344" locator="294:5-294:15" dataType="fhir:Encounter" xsi:type="Retrieve">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
               </source>
               <relationship localId="362" locator="295:7-297:75" alias="DiabetesCondition" xsi:type="With">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="346" locator="295:12-295:31" name="Diabetes Condition" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
                  <suchThat localId="361" locator="296:19-297:75" resultTypeName="t:Boolean" xsi:type="Or">
                     <operand localId="354" locator="296:19-296:90" resultTypeName="t:Boolean" xsi:type="EndsWith">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand xsi:type="SingletonFrom">
                              <operand localId="351" locator="296:28-296:67" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source alias="$this">
                                    <expression localId="350" locator="296:28-296:57" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source alias="$this">
                                          <expression localId="349" locator="296:28-296:47" path="diagnosis" scope="Encounters" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Encounter.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="condition" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="condition" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </expression>
                                 </source>
                                 <where xsi:type="Not">
                                    <operand xsi:type="IsNull">
                                       <operand path="reference" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </operand>
                                    </operand>
                                 </where>
                                 <return>
                                    <expression path="reference" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </operand>
                           </operand>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="353" locator="296:70-296:89" resultTypeName="fhir:id" path="id" scope="DiabetesCondition" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="360" locator="297:14-297:75" resultTypeName="t:Boolean" xsi:type="EndsWith">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="357" locator="297:23-297:59" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                              <source localId="356" locator="297:23-297:49" resultTypeName="fhir:Reference" path="context" scope="DiabetesCondition" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="359" locator="297:62-297:74" resultTypeName="fhir:id" path="id" scope="Encounters" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
               <return localId="364" locator="298:7-298:23">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="363" locator="298:14-298:23" resultTypeName="fhir:Encounter" name="Encounters" xsi:type="AliasRef"/>
               </return>
            </operand>
         </expression>
      </def>
      <def localId="393" locator="301:1-305:115" name="Has Diagnosis of Gestational or Steroid-Induced Diabetes" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="393">
               <a:s>define &quot;Has Diagnosis of Gestational or Steroid-Induced Diabetes&quot;:&#xd;
  </a:s>
               <a:s r="392">
                  <a:s>
                     <a:s r="377">
                        <a:s r="376">
                           <a:s r="376">
                              <a:s>[Condition: code in </a:s>
                              <a:s>
                                 <a:s>&quot;Diabetes Exclusions&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> InducedDiabetesCondition</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="391">
                     <a:s>where </a:s>
                     <a:s r="391">
                        <a:s r="386">
                           <a:s r="381">
                              <a:s r="379">
                                 <a:s r="378">
                                    <a:s>InducedDiabetesCondition</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="379">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="380">
                                 <a:s>'active'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      and </a:s>
                           <a:s r="385">
                              <a:s r="383">
                                 <a:s r="382">
                                    <a:s>InducedDiabetesCondition</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="383">
                                    <a:s>verificationStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="384">
                                 <a:s>'confirmed'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="390">
                           <a:s r="388">
                              <a:s r="387">
                                 <a:s>InducedDiabetesCondition</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="388">
                                 <a:s>assertedDate</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in day of </a:s>
                           <a:s r="389">
                              <a:s>&quot;Lookback Period Year Prior to End of Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="392" locator="302:3-305:115" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="377" locator="302:3-302:69" alias="InducedDiabetesCondition">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="376" locator="302:3-302:44" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="302:23-302:43" name="Diabetes Exclusions" xsi:type="ValueSetRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </codes>
               </expression>
            </source>
            <where localId="391" locator="303:5-305:115" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="386" locator="303:11-304:67" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="381" locator="303:11-303:60" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="379" locator="303:11-303:49" resultTypeName="fhir:ConditionClinicalStatusCodes" path="clinicalStatus" scope="InducedDiabetesCondition" xsi:type="Property"/>
                     </operand>
                     <operand localId="380" locator="303:53-303:60" resultTypeName="t:String" valueType="t:String" value="active" xsi:type="Literal"/>
                  </operand>
                  <operand localId="385" locator="304:11-304:67" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="383" locator="304:11-304:53" resultTypeName="fhir:ConditionVerificationStatus" path="verificationStatus" scope="InducedDiabetesCondition" xsi:type="Property"/>
                     </operand>
                     <operand localId="384" locator="304:57-304:67" resultTypeName="t:String" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="390" locator="305:11-305:115" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="388" locator="305:11-305:47" resultTypeName="fhir:dateTime" path="assertedDate" scope="InducedDiabetesCondition" xsi:type="Property"/>
                  </operand>
                  <operand xsi:type="Interval">
                     <low xsi:type="ToDateTime">
                        <operand path="low" xsi:type="Property">
                           <source localId="389" locator="305:59-305:115" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </low>
                     <lowClosedExpression path="lowClosed" xsi:type="Property">
                        <source localId="389" locator="305:59-305:115" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </lowClosedExpression>
                     <high xsi:type="ToDateTime">
                        <operand path="high" xsi:type="Property">
                           <source localId="389" locator="305:59-305:115" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </high>
                     <highClosedExpression path="highClosed" xsi:type="Property">
                        <source localId="389" locator="305:59-305:115" name="Lookback Period Year Prior to End of Measurement Period" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </highClosedExpression>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="398" locator="280:1-290:3" resultTypeName="t:Boolean" name="Step 2 Is Diabetic Flag" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="398">
               <a:s>define &quot;Step 2 Is Diabetic Flag&quot;:&#xd;
  </a:s>
               <a:s r="397">
                  <a:s>not </a:s>
                  <a:s r="396">
                     <a:s>(&#xd;
    </a:s>
                     <a:s r="396">
                        <a:s r="375">
                           <a:s>(&#xd;
      </a:s>
                           <a:s r="375">
                              <a:s r="369">
                                 <a:s>not </a:s>
                                 <a:s r="368">
                                    <a:s>&quot;Diabetes Diagnosis in Any Setting&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
        or </a:s>
                              <a:s r="374">
                                 <a:s>(&#xd;
          </a:s>
                                 <a:s r="374">
                                    <a:s r="370">
                                       <a:s>&quot;Is Diabetic Using Pharmacy Data&quot;</a:s>
                                    </a:s>
                                    <a:s>&#xd;
            and </a:s>
                                    <a:s r="373">
                                       <a:s>not </a:s>
                                       <a:s r="372">
                                          <a:s>exists</a:s>
                                          <a:s r="371">
                                             <a:s>(</a:s>
                                             <a:s r="371">
                                                <a:s>&quot;Encounters with Diabetes Diagnosis&quot;</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        )</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
    )</a:s>
                        </a:s>
                        <a:s>&#xd;
    and </a:s>
                        <a:s r="395">
                           <a:s>exists</a:s>
                           <a:s r="394">
                              <a:s>(</a:s>
                              <a:s r="394">
                                 <a:s>&quot;Has Diagnosis of Gestational or Steroid-Induced Diabetes&quot;</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="397" locator="281:3-290:3" resultTypeName="t:Boolean" xsi:type="Not">
            <operand localId="396" locator="281:7-290:3" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="375" locator="282:5-288:5" resultTypeName="t:Boolean" xsi:type="Or">
                  <operand localId="369" locator="283:7-283:45" resultTypeName="t:Boolean" xsi:type="Not">
                     <operand localId="368" locator="283:11-283:45" resultTypeName="t:Boolean" name="Diabetes Diagnosis in Any Setting" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="374" locator="284:12-287:9" resultTypeName="t:Boolean" xsi:type="And">
                     <operand localId="370" locator="285:11-285:43" resultTypeName="t:Boolean" name="Is Diabetic Using Pharmacy Data" xsi:type="ExpressionRef"/>
                     <operand localId="373" locator="286:17-286:64" resultTypeName="t:Boolean" xsi:type="Not">
                        <operand localId="372" locator="286:21-286:64" resultTypeName="t:Boolean" xsi:type="Exists">
                           <operand localId="371" locator="286:27-286:64" name="Encounters with Diabetes Diagnosis" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
               <operand localId="395" locator="289:9-289:74" resultTypeName="t:Boolean" xsi:type="Exists">
                  <operand localId="394" locator="289:15-289:74" name="Has Diagnosis of Gestational or Steroid-Induced Diabetes" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="409" locator="312:1-315:61" resultTypeName="t:Boolean" name="Step 3 Is Diabetic Flag" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="409">
               <a:s>define &quot;Step 3 Is Diabetic Flag&quot;:&#xd;
  </a:s>
               <a:s r="408">
                  <a:s>if </a:s>
                  <a:s r="403">
                     <a:s>( </a:s>
                     <a:s r="403">
                        <a:s r="400">
                           <a:s r="399">
                              <a:s>&quot;Step 1 Is Diabetic Flag&quot;</a:s>
                           </a:s>
                           <a:s> is null</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="402">
                           <a:s r="401">
                              <a:s>&quot;Step 2 Is Diabetic Flag&quot;</a:s>
                           </a:s>
                           <a:s> is null</a:s>
                        </a:s>
                     </a:s>
                     <a:s> )</a:s>
                  </a:s>
                  <a:s r="404">&#xd;
    then false&#xd;
  else </a:s>
                  <a:s r="407">
                     <a:s r="405">
                        <a:s>&quot;Step 1 Is Diabetic Flag&quot;</a:s>
                     </a:s>
                     <a:s> or </a:s>
                     <a:s r="406">
                        <a:s>&quot;Step 2 Is Diabetic Flag&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="408" locator="313:3-315:61" resultTypeName="t:Boolean" xsi:type="If">
            <condition asType="t:Boolean" xsi:type="As">
               <operand localId="403" locator="313:6-313:80" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="400" locator="313:8-313:40" resultTypeName="t:Boolean" xsi:type="IsNull">
                     <operand localId="399" locator="313:8-313:32" resultTypeName="t:Boolean" name="Step 1 Is Diabetic Flag" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="402" locator="313:46-313:78" resultTypeName="t:Boolean" xsi:type="IsNull">
                     <operand localId="401" locator="313:46-313:70" resultTypeName="t:Boolean" name="Step 2 Is Diabetic Flag" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
            </condition>
            <then localId="404" locator="314:10-314:14" resultTypeName="t:Boolean" valueType="t:Boolean" value="false" xsi:type="Literal"/>
            <else localId="407" locator="315:8-315:61" resultTypeName="t:Boolean" xsi:type="Or">
               <operand localId="405" locator="315:8-315:32" resultTypeName="t:Boolean" name="Step 1 Is Diabetic Flag" xsi:type="ExpressionRef"/>
               <operand localId="406" locator="315:37-315:61" resultTypeName="t:Boolean" name="Step 2 Is Diabetic Flag" xsi:type="ExpressionRef"/>
            </else>
         </expression>
      </def>
      <def localId="411" locator="349:1-350:6" resultTypeName="t:Boolean" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="411">
               <a:s r="410">define &quot;Denominator&quot;:&#xd;
  true</a:s>
            </a:s>
         </annotation>
         <expression localId="410" locator="350:3-350:6" resultTypeName="t:Boolean" valueType="t:Boolean" value="true" xsi:type="Literal"/>
      </def>
      <def localId="418" locator="371:1-373:45" name="Patient General Practitioners" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="418">
               <a:s>define &quot;Patient General Practitioners&quot;:&#xd;
  </a:s>
               <a:s r="417">
                  <a:s>
                     <a:s r="413">
                        <a:s r="412">
                           <a:s>
                              <a:s>Patient.generalPractitioner</a:s>
                           </a:s>
                        </a:s>
                        <a:s> practitioners</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="416">
                     <a:s>where </a:s>
                     <a:s r="416">
                        <a:s r="415">
                           <a:s r="414">
                              <a:s>practitioners</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="415">
                              <a:s>reference</a:s>
                           </a:s>
                        </a:s>
                        <a:s> is not null</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="417" locator="372:3-373:45" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="413" locator="372:3-372:43" alias="practitioners">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="412" locator="372:3-372:29" path="generalPractitioner" xsi:type="Property">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source name="Patient" xsi:type="ExpressionRef"/>
               </expression>
            </source>
            <where localId="416" locator="373:5-373:45" resultTypeName="t:Boolean" xsi:type="Not">
               <operand locator="373:11-373:45" resultTypeName="t:Boolean" xsi:type="IsNull">
                  <operand localId="415" locator="373:11-373:33" resultTypeName="fhir:string" path="reference" scope="practitioners" xsi:type="Property"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="465" locator="376:1-389:7" name="Get PCP Who Most Recently Provided Care" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="465">
               <a:s>define &quot;Get PCP Who Most Recently Provided Care&quot;:&#xd;
  </a:s>
               <a:s r="464">
                  <a:s>
                     <a:s r="447">
                        <a:s r="446">
                           <a:s>(&#xd;
    </a:s>
                           <a:s r="446">
                              <a:s>
                                 <a:s r="428">
                                    <a:s r="427">
                                       <a:s r="427">
                                          <a:s>[Encounter]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Encounters</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
      </a:s>
                              <a:s r="441">
                                 <a:s>where </a:s>
                                 <a:s r="441">
                                    <a:s r="436">
                                       <a:s r="431">
                                          <a:s r="430">
                                             <a:s r="429">
                                                <a:s>Encounters</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="430">
                                                <a:s>participant</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> is not null</a:s>
                                       </a:s>
                                       <a:s>&#xd;
        and </a:s>
                                       <a:s r="435">
                                          <a:s r="433">
                                             <a:s r="432">
                                                <a:s>Encounters</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="433">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> = </a:s>
                                          <a:s r="434">
                                             <a:s>'finished'</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
        and </a:s>
                                    <a:s r="440">
                                       <a:s r="438">
                                          <a:s r="437">
                                             <a:s>Encounters</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="438">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="440"> during day of </a:s>
                                       <a:s r="439">
                                          <a:s>&quot;Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
          </a:s>
                              <a:s r="445">
                                 <a:s>sort by </a:s>
                                 <a:s r="444">
                                    <a:s r="443">
                                       <a:s r="442">
                                          <a:s>period</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="443">
                                          <a:s>&quot;start&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> desc</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
  )</a:s>
                        </a:s>
                        <a:s> MostRecentEncounters</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
      </a:s>
                  <a:s r="463">
                     <a:s>return </a:s>
                     <a:s r="462">
                        <a:s>First(&#xd;
        </a:s>
                        <a:s r="461">
                           <a:s>
                              <a:s r="449">
                                 <a:s r="448">
                                    <a:s>
                                       <a:s>MostRecentEncounters.participant</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> participants</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
          </a:s>
                           <a:s r="457">
                              <a:s>where </a:s>
                              <a:s r="457">
                                 <a:s r="452">
                                    <a:s r="451">
                                       <a:s r="450">
                                          <a:s>participants</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="451">
                                          <a:s>individual</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is not null</a:s>
                                 </a:s>
                                 <a:s>&#xd;
            and </a:s>
                                 <a:s r="456">
                                    <a:s r="455">
                                       <a:s r="454">
                                          <a:s r="453">
                                             <a:s>participants</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="454">
                                             <a:s>individual</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="455">
                                          <a:s>reference</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is not null</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
            </a:s>
                           <a:s r="460">
                              <a:s>return </a:s>
                              <a:s r="459">
                                 <a:s r="458">
                                    <a:s>participants</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="459">
                                    <a:s>individual</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="464" locator="377:3-389:7" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="447" locator="377:3-383:24" alias="MostRecentEncounters">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="446" locator="377:3-383:3" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="428" locator="378:5-378:26" alias="Encounters">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="427" locator="378:5-378:15" dataType="fhir:Encounter" xsi:type="Retrieve">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="441" locator="379:7-381:64" resultTypeName="t:Boolean" xsi:type="And">
                     <operand localId="436" locator="379:13-380:42" resultTypeName="t:Boolean" xsi:type="And">
                        <operand localId="431" locator="379:13-379:46" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="379:13-379:46" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="430" locator="379:13-379:34" path="participant" scope="Encounters" xsi:type="Property">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Encounter.Participant" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="435" locator="380:13-380:42" resultTypeName="t:Boolean" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="433" locator="380:13-380:29" resultTypeName="fhir:EncounterStatus" path="status" scope="Encounters" xsi:type="Property"/>
                           </operand>
                           <operand localId="434" locator="380:33-380:42" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="440" locator="381:13-381:64" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                        <operand localId="438" locator="381:13-381:29" resultTypeName="fhir:Period" path="period" scope="Encounters" xsi:type="Property"/>
                        <operand localId="439" locator="381:45-381:64" name="Measurement Period" xsi:type="ParameterRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                  </where>
                  <sort localId="445" locator="382:11-382:37">
                     <by localId="444" locator="382:19-382:37" resultTypeName="fhir:dateTime" direction="desc" xsi:type="ByExpression">
                        <expression localId="443" locator="382:19-382:32" resultTypeName="fhir:dateTime" path="start" xsi:type="Property">
                           <source localId="442" locator="382:19-382:24" resultTypeName="fhir:Period" name="period" xsi:type="IdentifierRef"/>
                        </expression>
                     </by>
                  </sort>
               </expression>
            </source>
            <return localId="463" locator="384:7-389:7">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="462" locator="384:14-389:7" resultTypeName="fhir:Reference" xsi:type="First">
                  <source localId="461" locator="385:9-388:42" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="449" locator="385:9-385:53" alias="participants">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter.Participant" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="448" locator="385:9-385:40" path="participant" scope="MostRecentEncounters" xsi:type="Property">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Encounter.Participant" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </expression>
                     </source>
                     <where localId="457" locator="386:11-387:61" resultTypeName="t:Boolean" xsi:type="And">
                        <operand localId="452" locator="386:17-386:51" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="386:17-386:51" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="451" locator="386:17-386:39" resultTypeName="fhir:Reference" path="individual" scope="participants" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="456" locator="387:17-387:61" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="387:17-387:61" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="455" locator="387:17-387:49" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                                 <source localId="454" locator="387:17-387:39" resultTypeName="fhir:Reference" path="individual" scope="participants" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                     <return localId="460" locator="388:13-388:42">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="459" locator="388:20-388:42" resultTypeName="fhir:Reference" path="individual" scope="participants" xsi:type="Property"/>
                     </return>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="469" locator="366:1-369:58" resultTypeName="fhir:string" name="Member's PCP" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="469">
               <a:s>define &quot;Member's PCP&quot;:&#xd;
  </a:s>
               <a:s r="468">
                  <a:s>if </a:s>
                  <a:s r="422">
                     <a:s>( </a:s>
                     <a:s r="422">
                        <a:s r="420">
                           <a:s>Length(</a:s>
                           <a:s r="419">
                              <a:s>&quot;Patient General Practitioners&quot;</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s r="421"> = 1</a:s>
                     </a:s>
                     <a:s> )</a:s>
                  </a:s>
                  <a:s>&#xd;
    then </a:s>
                  <a:s r="426">
                     <a:s r="425">
                        <a:s r="423">
                           <a:s>&quot;Patient General Practitioners&quot;</a:s>
                        </a:s>
                        <a:s r="424">[0]</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="426">
                        <a:s>reference</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
  else </a:s>
                  <a:s r="467">
                     <a:s r="466">
                        <a:s>&quot;Get PCP Who Most Recently Provided Care&quot;</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="467">
                        <a:s>reference</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="468" locator="367:3-369:58" resultTypeName="fhir:string" xsi:type="If">
            <condition asType="t:Boolean" xsi:type="As">
               <operand localId="422" locator="367:6-367:52" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand localId="420" locator="367:8-367:46" resultTypeName="t:Integer" xsi:type="Length">
                     <operand localId="419" locator="367:15-367:45" name="Patient General Practitioners" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </operand>
                  <operand localId="421" locator="367:50" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
               </operand>
            </condition>
            <then localId="426" locator="368:10-368:53" resultTypeName="fhir:string" path="reference" xsi:type="Property">
               <source localId="425" locator="368:10-368:43" resultTypeName="fhir:Reference" xsi:type="Indexer">
                  <operand localId="423" locator="368:10-368:40" name="Patient General Practitioners" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
                  <operand localId="424" locator="368:42" resultTypeName="t:Integer" valueType="t:Integer" value="0" xsi:type="Literal"/>
               </source>
            </then>
            <else xsi:type="SingletonFrom">
               <operand localId="467" locator="369:8-369:58" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source alias="$this">
                     <expression localId="466" locator="369:8-369:48" name="Get PCP Who Most Recently Provided Care" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where xsi:type="Not">
                     <operand xsi:type="IsNull">
                        <operand path="reference" xsi:type="Property">
                           <source name="$this" xsi:type="AliasRef"/>
                        </operand>
                     </operand>
                  </where>
                  <return>
                     <expression path="reference" xsi:type="Property">
                        <source name="$this" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </operand>
            </else>
         </expression>
      </def>
      <def localId="489" locator="427:1-431:30" name="Most Recent BP Readings" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="489">
               <a:s>define &quot;Most Recent BP Readings&quot;:&#xd;
  </a:s>
               <a:s r="488">
                  <a:s>
                     <a:s r="471">
                        <a:s r="470">
                           <a:s r="470">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>&quot;Blood Pressure&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> BPObservation</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="484">
                     <a:s>where </a:s>
                     <a:s r="484">
                        <a:s r="475">
                           <a:s r="473">
                              <a:s r="472">
                                 <a:s>BPObservation</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="473">
                                 <a:s>effective</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in day of </a:s>
                           <a:s r="474">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      and </a:s>
                        <a:s r="483">
                           <a:s r="479">
                              <a:s>(</a:s>
                              <a:s r="479">
                                 <a:s r="477">
                                    <a:s r="476">
                                       <a:s>BPObservation</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="477">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> as </a:s>
                                 <a:s r="478">
                                    <a:s>dateTime</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="483"> after day of </a:s>
                           <a:s r="482">
                              <a:s r="481">
                                 <a:s>First(</a:s>
                                 <a:s r="480">
                                    <a:s>&quot;Hypertension Diagnosis&quot;</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="482">
                                 <a:s>assertedDate</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
        </a:s>
                  <a:s r="487">
                     <a:s>sort by </a:s>
                     <a:s r="486">
                        <a:s r="485">
                           <a:s>effective</a:s>
                        </a:s>
                        <a:s> desc</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="488" locator="428:3-431:30" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="471" locator="428:3-428:47" alias="BPObservation">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="470" locator="428:3-428:33" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="428:17-428:32" resultTypeName="t:Code" name="Blood Pressure" xsi:type="CodeRef"/>
               </expression>
            </source>
            <where localId="484" locator="429:5-430:105" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="475" locator="429:11-429:64" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:dateTime" xsi:type="As">
                        <operand localId="473" locator="429:11-429:33" path="effective" scope="BPObservation" xsi:type="Property">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="Interval">
                     <low xsi:type="ToDateTime">
                        <operand path="low" xsi:type="Property">
                           <source localId="474" locator="429:45-429:64" name="Measurement Period" xsi:type="ParameterRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </low>
                     <lowClosedExpression path="lowClosed" xsi:type="Property">
                        <source localId="474" locator="429:45-429:64" name="Measurement Period" xsi:type="ParameterRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </lowClosedExpression>
                     <high xsi:type="ToDateTime">
                        <operand path="high" xsi:type="Property">
                           <source localId="474" locator="429:45-429:64" name="Measurement Period" xsi:type="ParameterRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </operand>
                     </high>
                     <highClosedExpression path="highClosed" xsi:type="Property">
                        <source localId="474" locator="429:45-429:64" name="Measurement Period" xsi:type="ParameterRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </source>
                     </highClosedExpression>
                  </operand>
               </operand>
               <operand localId="483" locator="430:11-430:105" resultTypeName="t:Boolean" precision="Day" xsi:type="After">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="479" locator="430:11-430:47" resultTypeName="fhir:dateTime" strict="false" xsi:type="As">
                        <operand localId="477" locator="430:12-430:34" path="effective" scope="BPObservation" xsi:type="Property">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <asTypeSpecifier localId="478" locator="430:39-430:46" resultTypeName="fhir:dateTime" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                  </operand>
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="482" locator="430:62-430:105" resultTypeName="fhir:dateTime" path="assertedDate" xsi:type="Property">
                        <source localId="481" locator="430:62-430:92" resultTypeName="fhir:Condition" xsi:type="First">
                           <source localId="480" locator="430:68-430:91" name="Hypertension Diagnosis" xsi:type="ExpressionRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </source>
                        </source>
                     </operand>
                  </operand>
               </operand>
            </where>
            <sort localId="487" locator="431:9-431:30">
               <by localId="486" locator="431:17-431:30" direction="desc" path="effective" xsi:type="ByColumn">
                  <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </by>
            </sort>
         </expression>
      </def>
      <def localId="509" locator="456:1-463:3" name="Get Concept from Claim Diagnosis" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="509">
               <a:s>define function &quot;Get Concept from Claim Diagnosis&quot;(value </a:s>
               <a:s r="492">
                  <a:s>Choice&lt;</a:s>
                  <a:s r="490">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="491">
                     <a:s>FHIR.Reference</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="508">
                  <a:s r="508">
                     <a:s>if </a:s>
                     <a:s r="495">
                        <a:s r="493">
                           <a:s>value</a:s>
                        </a:s>
                        <a:s> is </a:s>
                        <a:s r="494">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    then </a:s>
                     <a:s r="496">
                        <a:s>value</a:s>
                     </a:s>
                     <a:s>&#xd;
  else </a:s>
                     <a:s r="507">
                        <a:s>(&#xd;
    </a:s>
                        <a:s r="507">
                           <a:s>
                              <a:s r="498">
                                 <a:s r="497">
                                    <a:s>
                                       <a:s>&quot;Diabetes Condition&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> DC</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="503">
                              <a:s>where </a:s>
                              <a:s r="503">
                                 <a:s>EndsWith(</a:s>
                                 <a:s r="500">
                                    <a:s r="499">
                                       <a:s>value</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="500">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="502">
                                    <a:s r="501">
                                       <a:s>DC</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="502">
                                       <a:s>id</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="506">
                              <a:s>return </a:s>
                              <a:s r="505">
                                 <a:s r="504">
                                    <a:s>DC</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="505">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
  )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
            <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="508" locator="457:3-463:3" xsi:type="If">
            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
               <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <condition asType="t:Boolean" xsi:type="As">
               <operand localId="495" locator="457:6-457:34" resultTypeName="t:Boolean" xsi:type="Is">
                  <operand localId="493" locator="457:6-457:10" name="value" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                        <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
                  <isTypeSpecifier localId="494" locator="457:15-457:34" resultTypeName="fhir:CodeableConcept" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </operand>
            </condition>
            <then localId="496" locator="458:10-458:14" name="value" xsi:type="OperandRef">
               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                  <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                  <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
            </then>
            <else xsi:type="SingletonFrom">
               <operand xsi:type="As">
                  <operand localId="507" locator="459:8-463:3" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="498" locator="460:5-460:27" alias="DC">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="497" locator="460:5-460:24" name="Diabetes Condition" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </expression>
                     </source>
                     <where localId="503" locator="461:7-461:44" resultTypeName="t:Boolean" xsi:type="EndsWith">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="500" locator="461:22-461:36" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                              <source localId="499" locator="461:22-461:26" name="value" xsi:type="OperandRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </source>
                           </operand>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="502" locator="461:39-461:43" resultTypeName="fhir:id" path="id" scope="DC" xsi:type="Property"/>
                        </operand>
                     </where>
                     <return localId="506" locator="462:7-462:20">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="505" locator="462:14-462:20" resultTypeName="fhir:CodeableConcept" path="code" scope="DC" xsi:type="Property"/>
                     </return>
                  </operand>
                  <asTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </operand>
            </else>
         </expression>
         <operand name="value">
            <operandTypeSpecifier localId="492" locator="456:58-456:101" xsi:type="ChoiceTypeSpecifier">
               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                  <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                  <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <choice localId="490" locator="456:65-456:84" resultTypeName="fhir:CodeableConcept" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               <choice localId="491" locator="456:87-456:100" resultTypeName="fhir:Reference" name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
   </statements>
</library>


